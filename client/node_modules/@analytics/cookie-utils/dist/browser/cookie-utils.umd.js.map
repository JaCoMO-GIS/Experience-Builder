{"version":3,"file":"cookie-utils.umd.js","sources":["../../../analytics-util-types/dist/analytics-util-types.module.js","../../../analytics-util-storage-global/dist/analytics-util-global-storage.module.js","../../src/index.js"],"sourcesContent":["var n,e=\"function\",t=\"string\",o=\"undefined\",r=\"boolean\",i=\"object\",u=\"array\",c=\"number\",a=function(){},f=\"any\",l=\"*\",s=\"none\",d=\"hidden\",p=\"__\",y=\"form\",g=\"input\",b=\"button\",m=\"select\",v=\"change\",j=\"submit\",h=\"undefined\"!=typeof process?process:{},A=(null==(n=h.env)?void 0:n.NODE_ENV)||\"\",O=\"production\"===A,w=\"staging\"===A,Z=\"development\"===A,z=\"undefined\"!=typeof window,N=z&&\"localhost\"===window.location.hostname,P=null!=h.versions&&null!=h.versions.node,S=\"undefined\"!=typeof Deno&&void 0!==Deno.core,D=\"object\"==typeof self&&self.constructor&&\"DedicatedWorkerGlobalScope\"===self.constructor.name,E=z&&\"nodejs\"===window.name||\"undefined\"!=typeof navigator&&(navigator.userAgent.includes(\"Node.js\")||navigator.userAgent.includes(\"jsdom\"));function C(n,e){return typeof e===n}var _=C.bind(null,\"function\"),L=C.bind(null,\"string\"),$=C.bind(null,\"undefined\"),x=C.bind(null,\"boolean\");function F(n){return null===n}function T(n){return!isNaN(parseFloat(n))}function k(n){return!!_(n)&&/^class /.test(Function.prototype.toString.call(n))}function G(n){return\"[object Array]\"===Object.prototype.toString.call(n)}function H(n){return n&&(\"object\"==typeof n||null!==n)}function M(n){if(!H(n))return!1;for(var e=n;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(n)===e}function R(n){if(F(n))return!0;switch(typeof n){case\"string\":case\"number\":case\"symbol\":case\"undefined\":case\"boolean\":return!0;default:return!1}}function U(n){return!!n&&!!(!$(Promise)&&n instanceof Promise||n.then&&_(n.then))}function V(n){return n instanceof RegExp}function W(n){return H(n)&&L(n.message)&&L(n.name)}function q(n){if(!_(n))return!1;var e=/{(\\r|\\n|\\s)*}/gm,t=a+\"\";return t===(n.toString().match(e)||[\"\"])[0].replace(e,t)}function B(n){return!(L(n)&&\"false\"===n.toLowerCase()||!n)}function I(n){return!(n.length>320)&&/^[a-zA-Z0-9.!#$%&'*+\\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(n)}function J(n){return/^\\d{4}-[01]\\d-[0-3]\\dT[0-2]\\d:[0-5]\\d:[0-5]\\d\\.\\d+([+-][0-2]\\d:[0-5]\\d|Z)$/.test(n)}function K(n){return NodeList.prototype.isPrototypeOf(n)}function Q(n,e){var t=n instanceof Element||n instanceof HTMLDocument;return t&&e?X(n,e):t}function X(n,e){return void 0===e&&(e=\"\"),n&&n.nodeName===e.toUpperCase()}function Y(n){return function(){return n.apply(void 0,[].slice.call(arguments).concat([].slice.call(arguments,1)))}}var nn=Y(Q),en=Y(Q),tn=Y(Q),on=Y(Q);function rn(n,e){if(!n||\"hidden\"===getComputedStyle(n).visibility)return!0;for(;n;){if(null!=e&&n===e)return!1;if(\"none\"===getComputedStyle(n).display)return!0;n=n.parentElement}return!1}export{l as ALL,f as ANY,u as ARRAY,r as BOOLEAN,b as BUTTON,v as CHANGE,A as ENV,y as FORM,e as FUNCTION,d as HIDDEN,g as INPUT,s as NONE,c as NUMBER,i as OBJECT,p as PREFIX,m as SELECT,t as STRING,j as SUBMIT,o as UNDEFINED,G as isArray,x as isBoolean,z as isBrowser,en as isButton,k as isClass,S as isDeno,Z as isDev,Q as isElement,I as isEmail,W as isErrorLike,nn as isForm,_ as isFunction,rn as isHidden,tn as isInput,J as isIsoDate,E as isJsDom,N as isLocalHost,q as isNoOp,P as isNode,K as isNodeList,X as isNodeType,F as isNull,T as isNumber,M as isObject,H as isObjectLike,R as isPrimitive,O as isProd,U as isPromise,V as isRegex,on as isSelect,w as isStaging,L as isString,B as isTruthy,$ as isUndefined,D as isWebWorker,a as noOp,C as typeOf};\n//# sourceMappingURL=analytics-util-types.module.js.map\n","import{PREFIX as t,OBJECT as e,UNDEFINED as r}from\"@analytics/type-utils\";var l=\"global\",o=t+\"global\"+t,n=typeof self===e&&self.self===self&&self||typeof global===e&&global.global===global&&global||void 0;function a(t){return n[o][t]}function f(t,e){return n[o][t]=e}function i(t){delete n[o][t]}function u(t,e,r){var l;try{if(b(t)){var o=window[t];l=o[e].bind(o)}}catch(t){}return l||r}n[o]||(n[o]={});var c={};function b(t){if(typeof c[t]!==r)return c[t];try{var e=window[t];e.setItem(r,r),e.removeItem(r)}catch(e){return c[t]=!1}return c[t]=!0}export{l as GLOBAL,o as KEY,a as get,n as globalContext,b as hasSupport,i as remove,f as set,u as wrap};\n//# sourceMappingURL=analytics-util-global-storage.module.js.map\n","import { get, set, remove } from '@analytics/global-storage-utils'\n\nexport const COOKIE = 'cookie'\n\nlet isSupported = hasCookies()\n\n/**\n * Get a cookie value\n * @param  {string} name - key of cookie\n * @return {string} value of cookie\n */\nexport const getCookie = cookie\n\n/**\n * Set a cookie value\n * @param {string} name  - key of cookie\n * @param {string} value - value of cookie\n * @param {string} days  - days to keep cookie\n */\nexport const setCookie = cookie\n\n/**\n * Remove a cookie value.\n * @param {string} name  - key of cookie\n */\nexport function removeCookie(name) {\n  return isSupported ? cookie(name, '', -1) : remove(name) \n}\n\n/**\n * Check if browser has cookie support\n * @returns {boolean}\n */\nexport function hasCookies() {\n  if (typeof isSupported !== 'undefined') {\n    return isSupported\n  }\n  const tmp = COOKIE + COOKIE\n  try {\n    // Try to set cookie\n    cookie(tmp, tmp)\n    isSupported = document.cookie.indexOf(tmp) !== -1\n    // Cleanup cookie\n    removeCookie(tmp)\n  } catch (e) {\n    isSupported = false\n  }\n  return isSupported\n}\n\n/** \n  * Cookie setter & getter\n  * @version    1.0.4\n  * @date       2015-03-13\n  * @stability  3 - Stable\n  * @author     Lauri Rooden <lauri@rooden.ee>\n  * @license    MIT License\n  * Modified by David Wells\n  * @param {string} name \n  * @param {*} value \n  * @param {*} ttl - Time to live in seconds\n  * @param {*} path - Cookie domain\n  * @param {*} domain - Cookie domain\n  * @param {Boolean} secure - secure cookie\n  * @returns {*} value\n  * @example\n    cookie('test', 'a') // set\n    cookie('test', 'a', 60*60*24, '/api', '*.example.com', true) // complex set - cookie(name, value, ttl, path, domain, secure)\n    cookie('test') // get\n    cookie('test', '', -1) // destroy\n*/\nfunction cookie(name, value, ttl, path, domain, secure) {\n  if (typeof window === 'undefined') return\n  const isSet = arguments.length > 1\n  /* If cookies not supported fallback to global */\n  if (isSupported === false) (isSet) ? set(name, value) : get(name)\n  /* Set values */\n  if (isSet) {\n    return document.cookie = name + '=' + encodeURIComponent(value) +\n      /* Set TTL set expiration on cookie */\n      ((!ttl) ? '' : '; expires=' + new Date(+new Date() + (ttl * 1000)).toUTCString() +\n      // If path set path\n      ((!path) ? '' : '; path=' + path) +\n      // If domain set domain\n      ((!domain) ? '' : '; domain=' + domain) +\n      // If secure set secure\n      ((!secure) ? '' : '; secure'))\n  }\n  /* Get values */\n  return decodeURIComponent((('; ' + document.cookie).split('; ' + name + '=')[1] || '').split(';')[0])\n}\n"],"names":["OBJECT","process","isBrowser","window","typeOf","type","val","Deno","name","navigator","userAgent","includes","bind","KEY","PREFIX","globalContext","self","global","this","get","key","set","value","COOKIE","isSupported","hasCookies","getCookie","cookie","setCookie","removeCookie","tmp","document","indexOf","e","ttl","path","domain","secure","isSet","arguments","length","encodeURIComponent","Date","toUTCString","decodeURIComponent","split"],"mappings":"yOASaA,EAAS,SAFG,oBAwBFC,SAAwBA,YAelCC,EAvCY,oBAuCOC,OAc8I,SAM9JC,EAAOC,EAAMC,GAC3B,cAAcA,IAAQD,EA5DC,oBA+CIE,MAA6BA,KAMlCL,GAA6B,WAAhBC,OAAOK,MArDnB,oBAqDiDC,YAA4BA,UAAUC,UAAUC,SAAS,YAAcF,UAAUC,UAAUC,SAAS,UAepJP,EAAOQ,KAAK,KAtEd,YA6EAR,EAAOQ,KAAK,KA5Ed,UAmFKR,EAAOQ,KAAK,KAlFd,aAwFAR,EAAOQ,KAAK,KAvFd,eCJVC,EAAMC,aAENC,SAAwBC,OAAShB,GAAUgB,KAAKA,OAASA,MAAQA,aAAiBC,SAAWjB,GAAUiB,OAAMA,SAAaA,QAAUA,aAAAA,EAAWC,SAW5IC,EAAIC,GAClB,OAAOL,EAAcF,GAAKO,YASZC,EAAID,EAAKE,GACvB,OAAOP,EAAcF,GAAKO,GAAOE,EAnB9BP,EAAcF,KACjBE,EAAcF,GAAO,QCRVU,EAAS,SAElBC,EAAcC,IAOLC,EAAYC,EAQZC,EAAYD,WAMTE,EAAarB,GAC3B,OAAOgB,EAAcG,EAAOnB,EAAM,IAAK,eDUhCO,EAAcF,GCV8BL,YAOrCiB,IACd,QAA2B,IAAhBD,EACT,OAAOA,EAET,IAAMM,EAAMP,EAASA,EACrB,IAEEI,EAAOG,EAAKA,GACZN,GAAgD,IAAlCO,SAASJ,OAAOK,QAAQF,GAEtCD,EAAaC,GACb,MAAOG,GACPT,GAAc,EAEhB,OAAOA,EAwBT,SAASG,EAAOnB,EAAMc,EAAOY,EAAKC,EAAMC,EAAQC,GAC9C,GAAsB,oBAAXlC,OAAX,CACA,IAAMmC,EAAQC,UAAUC,OAAS,EAIjC,OAFoB,IAAhBhB,IAAwBc,EAASjB,EAAIb,EAAMc,GAASH,EAAIX,IAExD8B,EACKP,SAASJ,OAASnB,EAAO,IAAMiC,mBAAmBnB,IAEpDY,EAAY,aAAe,IAAIQ,MAAM,IAAIA,KAAgB,IAANR,GAAaS,eAEhER,EAAa,UAAYA,EAAjB,KAERC,EAAe,YAAcA,EAAnB,KAEVC,EAAe,WAAL,IANH,IASPO,qBAAqB,KAAOb,SAASJ,QAAQkB,MAAM,KAAOrC,EAAO,KAAK,IAAM,IAAIqC,MAAM,KAAK"}