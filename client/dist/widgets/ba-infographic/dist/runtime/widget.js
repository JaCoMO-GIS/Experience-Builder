/*! For license information please see widget.js.LICENSE.txt */
System.register(["jimu-core","jimu-core/react","jimu-core/react-dom","esri/Graphic","esri/layers/GraphicsLayer","esri/symbols/SimpleMarkerSymbol","esri/geometry/Circle","esri/geometry/Point","esri/widgets/Search","esri/tasks/Locator","jimu-arcgis"],(function(e,t){var o={},n={},r={},s={},i={},a={},l={},c={},p={},d={},u={};return{setters:[function(e){o.React=e.React,o.SessionManager=e.SessionManager,o.css=e.css,o.jsx=e.jsx},function(e){n.default=e.default},function(e){r.default=e.default},function(e){s.default=e.default},function(e){i.default=e.default},function(e){a.default=e.default},function(e){l.default=e.default},function(e){c.default=e.default},function(e){p.default=e.default},function(e){d.default=e.default},function(e){u.JimuMapViewComponent=e.JimuMapViewComponent}],execute:function(){e((()=>{var e,t,h,g,f={71776:(e,t,o)=>{"use strict";o.d(t,{b:()=>q,c:()=>I,g:()=>P,h:()=>w,p:()=>p,r:()=>Y});let n,r,s=!1,i=!1;const a="undefined"!=typeof window?window:{},l=a.document||{head:{}},c={$flags$:0,$resourcesUrl$:"",jmp:e=>e(),raf:e=>requestAnimationFrame(e),ael:(e,t,o,n)=>e.addEventListener(t,o,n),rel:(e,t,o,n)=>e.removeEventListener(t,o,n),ce:(e,t)=>new CustomEvent(e,t)},p=e=>Promise.resolve(e),d=(()=>{try{return new CSSStyleSheet,"function"==typeof(new CSSStyleSheet).replace}catch(e){}return!1})(),u=(e,t,o,n)=>{o&&o.map((([o,n,r])=>{const s=g(e,o),i=h(t,r),a=f(o);c.ael(s,n,i,a),(t.$rmListeners$=t.$rmListeners$||[]).push((()=>c.rel(s,n,i,a)))}))},h=(e,t)=>o=>{try{256&e.$flags$?e.$lazyInstance$[t](o):(e.$queuedListeners$=e.$queuedListeners$||[]).push([t,o])}catch(e){X(e)}},g=(e,t)=>8&t?a:e,f=e=>0!=(2&e),m=new WeakMap,$=(e,t)=>"sc-"+e.$tagName$,y={},b=e=>"object"==(e=typeof e)||"function"===e,w=(e,t,...o)=>{let n=null,r=!1,s=!1,i=[];const a=t=>{for(let o=0;o<t.length;o++)n=t[o],Array.isArray(n)?a(n):null!=n&&"boolean"!=typeof n&&((r="function"!=typeof e&&!b(n))&&(n=String(n)),r&&s?i[i.length-1].$text$+=n:i.push(r?v(null,n):n),s=r)};if(a(o),t){const e=t.className||t.class;e&&(t.class="object"!=typeof e?e:Object.keys(e).filter((t=>e[t])).join(" "))}const l=v(e,null);return l.$attrs$=t,i.length>0&&(l.$children$=i),l},v=(e,t)=>({$flags$:0,$tag$:e,$text$:t,$elm$:null,$children$:null,$attrs$:null}),S={},C=(e,t,o,n,r,s)=>{if(o!==n){let i=Q(e,t);if(t.toLowerCase(),"class"===t){const t=e.classList,r=x(o),s=x(n);t.remove(...r.filter((e=>e&&!s.includes(e)))),t.add(...s.filter((e=>e&&!r.includes(e))))}else{const a=b(n);if((i||a&&null!==n)&&!r)try{if(e.tagName.includes("-"))e[t]=n;else{let r=null==n?"":n;"list"===t?i=!1:null!=o&&e[t]==r||(e[t]=r)}}catch(e){}null==n||!1===n?!1===n&&""!==e.getAttribute(t)||e.removeAttribute(t):(!i||4&s||r)&&!a&&(n=!0===n?"":n,e.setAttribute(t,n))}}},L=/\s/,x=e=>e?e.split(L):[],R=(e,t,o,n)=>{const r=11===t.$elm$.nodeType&&t.$elm$.host?t.$elm$.host:t.$elm$,s=e&&e.$attrs$||y,i=t.$attrs$||y;for(n in s)n in i||C(r,n,s[n],void 0,o,t.$flags$);for(n in i)C(r,n,s[n],i[n],o,t.$flags$)},E=(e,t,o,r)=>{let i,a,c=t.$children$[o],p=0;if(s||(s="svg"===c.$tag$),i=c.$elm$=l.createElementNS(s?"http://www.w3.org/2000/svg":"http://www.w3.org/1999/xhtml",c.$tag$),s&&"foreignObject"===c.$tag$&&(s=!1),R(null,c,s),null!=n&&i["s-si"]!==n&&i.classList.add(i["s-si"]=n),c.$children$)for(p=0;p<c.$children$.length;++p)a=E(e,c,p),a&&i.appendChild(a);return"svg"===c.$tag$?s=!1:"foreignObject"===i.tagName&&(s=!0),i},j=(e,t,o,n,s,i)=>{let a,l=e;for(l.shadowRoot&&l.tagName===r&&(l=l.shadowRoot);s<=i;++s)n[s]&&(a=E(null,o,s),a&&(n[s].$elm$=a,l.insertBefore(a,t)))},M=(e,t,o,n,r)=>{for(;t<=o;++t)(n=e[t])&&n.$elm$.remove()},k=(e,t)=>e.$tag$===t.$tag$,O=(e,t)=>{const o=t.$elm$=e.$elm$,n=e.$children$,r=t.$children$,i=t.$tag$;s="svg"===i||"foreignObject"!==i&&s,R(e,t,s),null!==n&&null!==r?((e,t,o,n)=>{let r,s=0,i=0,a=t.length-1,l=t[0],c=t[a],p=n.length-1,d=n[0],u=n[p];for(;s<=a&&i<=p;)null==l?l=t[++s]:null==c?c=t[--a]:null==d?d=n[++i]:null==u?u=n[--p]:k(l,d)?(O(l,d),l=t[++s],d=n[++i]):k(c,u)?(O(c,u),c=t[--a],u=n[--p]):k(l,u)?(O(l,u),e.insertBefore(l.$elm$,c.$elm$.nextSibling),l=t[++s],u=n[--p]):k(c,d)?(O(c,d),e.insertBefore(c.$elm$,l.$elm$),c=t[--a],d=n[++i]):(r=E(t&&t[i],o,i),d=n[++i],r&&l.$elm$.parentNode.insertBefore(r,l.$elm$));s>a?j(e,null==n[p+1]?null:n[p+1].$elm$,o,n,i,p):i>p&&M(t,s,a)})(o,n,t,r):null!==r?j(o,null,t,r,0,r.length-1):null!==n&&M(n,0,n.length-1),s&&"svg"===i&&(s=!1)},P=e=>J(e).$hostElement$,I=(e,t,o)=>{const n=P(e);return{emit:e=>N(n,t,{bubbles:!!(4&o),composed:!!(2&o),cancelable:!!(1&o),detail:e})}},N=(e,t,o)=>{const n=c.ce(t,o);return e.dispatchEvent(n),n},T=(e,t)=>{t&&!e.$onRenderResolve$&&t["s-p"]&&t["s-p"].push(new Promise((t=>e.$onRenderResolve$=t)))},A=(e,t)=>{if(e.$flags$|=16,!(4&e.$flags$))return T(e,e.$ancestorComponent$),le((()=>z(e,t)));e.$flags$|=512},z=(e,t)=>{const o=(e.$cmpMeta$.$tagName$,()=>{}),n=e.$lazyInstance$;let r;return t&&(e.$flags$|=256,e.$queuedListeners$&&(e.$queuedListeners$.map((([e,t])=>D(n,e,t))),e.$queuedListeners$=null),r=D(n,"componentWillLoad")),o(),F(r,(()=>H(e,n,t)))},H=async(e,t,o)=>{const n=e.$hostElement$,r=(e.$cmpMeta$.$tagName$,()=>{}),s=n["s-rc"];o&&(e=>{const t=e.$cmpMeta$,o=e.$hostElement$,n=t.$flags$,r=(t.$tagName$,()=>{}),s=((e,t,o,n)=>{let r=$(t),s=te.get(r);if(e=11===e.nodeType?e:l,s)if("string"==typeof s){e=e.head||e;let t,o=m.get(e);o||m.set(e,o=new Set),o.has(r)||(t=l.createElement("style"),t.innerHTML=s,e.insertBefore(t,e.querySelector("link")),o&&o.add(r))}else e.adoptedStyleSheets.includes(s)||(e.adoptedStyleSheets=[...e.adoptedStyleSheets,s]);return r})(o.shadowRoot?o.shadowRoot:o.getRootNode(),t);10&n&&(o["s-sc"]=s,o.classList.add(s+"-h")),r()})(e);const i=(e.$cmpMeta$.$tagName$,()=>{});_(e,t),s&&(s.map((e=>e())),n["s-rc"]=void 0),i(),r();{const t=n["s-p"],o=()=>B(e);0===t.length?o():(Promise.all(t).then(o),e.$flags$|=4,t.length=0)}},_=(e,t,o)=>{try{t=t.render(),e.$flags$&=-17,e.$flags$|=2,((e,t)=>{const o=e.$hostElement$,s=e.$vnode$||v(null,null),i=(a=t)&&a.$tag$===S?t:w(null,null,t);var a;r=o.tagName,i.$tag$=null,i.$flags$|=4,e.$vnode$=i,i.$elm$=s.$elm$=o.shadowRoot||o,n=o["s-sc"],O(s,i)})(e,t)}catch(t){X(t,e.$hostElement$)}return null},B=e=>{e.$cmpMeta$.$tagName$;const t=e.$hostElement$,o=e.$lazyInstance$,n=e.$ancestorComponent$;64&e.$flags$||(e.$flags$|=64,W(t),D(o,"componentDidLoad"),e.$onReadyResolve$(t),n||U()),e.$onInstanceResolve$(t),e.$onRenderResolve$&&(e.$onRenderResolve$(),e.$onRenderResolve$=void 0),512&e.$flags$&&ae((()=>A(e,!1))),e.$flags$&=-517},U=e=>{W(l.documentElement),ae((()=>N(a,"appload",{detail:{namespace:"stencil-components"}})))},D=(e,t,o)=>{if(e&&e[t])try{return e[t](o)}catch(e){X(e)}},F=(e,t)=>e&&e.then?e.then(t):t(),W=e=>e.classList.add("hydrated"),V=(e,t,o)=>{if(t.$members$){e.watchers&&(t.$watchers$=e.watchers);const n=Object.entries(t.$members$),r=e.prototype;if(n.map((([e,[n]])=>{31&n||2&o&&32&n?Object.defineProperty(r,e,{get(){return t=e,J(this).$instanceValues$.get(t);var t},set(o){((e,t,o,n)=>{const r=J(e),s=r.$hostElement$,i=r.$instanceValues$.get(t),a=r.$flags$,l=r.$lazyInstance$;var c,p;if(c=o,p=n.$members$[t][0],o=null==c||b(c)?c:4&p?"false"!==c&&(""===c||!!c):2&p?parseFloat(c):1&p?String(c):c,!(8&a&&void 0!==i||o===i)&&(r.$instanceValues$.set(t,o),l)){if(n.$watchers$&&128&a){const e=n.$watchers$[t];e&&e.map((e=>{try{l[e](o,i,t)}catch(e){X(e,s)}}))}2==(18&a)&&A(r,!1)}})(this,e,o,t)},configurable:!0,enumerable:!0}):1&o&&64&n&&Object.defineProperty(r,e,{value(...t){const o=J(this);return o.$onInstancePromise$.then((()=>o.$lazyInstance$[e](...t)))}})})),1&o){const t=new Map;r.attributeChangedCallback=function(e,o,n){c.jmp((()=>{const o=t.get(e);if(this.hasOwnProperty(o))n=this[o],delete this[o];else if(r.hasOwnProperty(o)&&"number"==typeof this[o]&&this[o]==n)return;this[o]=(null!==n||"boolean"!=typeof this[o])&&n}))},e.observedAttributes=n.filter((([e,t])=>15&t[0])).map((([e,o])=>{const n=o[1]||e;return t.set(n,e),n}))}}return e},q=(e,t={})=>{const o=[],n=t.exclude||[],r=a.customElements,s=l.head,i=s.querySelector("meta[charset]"),p=l.createElement("style"),h=[];let g,f=!0;Object.assign(c,t),c.$resourcesUrl$=new URL(t.resourcesUrl||"./",l.baseURI).href,e.map((e=>{e[1].map((t=>{const s={$flags$:t[0],$tagName$:t[1],$members$:t[2],$listeners$:t[3]};s.$members$=t[2],s.$listeners$=t[3],s.$watchers$={};const i=s.$tagName$,a=class extends HTMLElement{constructor(e){super(e),K(e=this,s),1&s.$flags$&&e.attachShadow({mode:"open"})}connectedCallback(){g&&(clearTimeout(g),g=null),f?h.push(this):c.jmp((()=>(e=>{if(0==(1&c.$flags$)){const t=J(e),o=t.$cmpMeta$,n=(o.$tagName$,()=>{});if(1&t.$flags$)u(e,t,o.$listeners$);else{t.$flags$|=1;{let o=e;for(;o=o.parentNode||o.host;)if(o["s-p"]){T(t,t.$ancestorComponent$=o);break}}o.$members$&&Object.entries(o.$members$).map((([t,[o]])=>{if(31&o&&e.hasOwnProperty(t)){const o=e[t];delete e[t],e[t]=o}})),(async(e,t,o,n,r)=>{if(0==(32&t.$flags$)){{if(t.$flags$|=32,(r=ee(o)).then){const e=()=>{};r=await r,e()}r.isProxied||(o.$watchers$=r.watchers,V(r,o,2),r.isProxied=!0);const e=(o.$tagName$,()=>{});t.$flags$|=8;try{new r(t)}catch(e){X(e)}t.$flags$&=-9,t.$flags$|=128,e()}if(r.style){let e=r.style;const t=$(o);if(!te.has(t)){const n=(o.$tagName$,()=>{});((e,t,o)=>{let n=te.get(e);d&&o?(n=n||new CSSStyleSheet,n.replace(t)):n=t,te.set(e,n)})(t,e,!!(1&o.$flags$)),n()}}}const s=t.$ancestorComponent$,i=()=>A(t,!0);s&&s["s-rc"]?s["s-rc"].push(i):i()})(0,t,o)}n()}})(this)))}disconnectedCallback(){c.jmp((()=>(e=>{if(0==(1&c.$flags$)){const t=J(e);t.$rmListeners$&&(t.$rmListeners$.map((e=>e())),t.$rmListeners$=void 0)}})(this)))}componentOnReady(){return J(this).$onReadyPromise$}};s.$lazyBundleId$=e[0],n.includes(i)||r.get(i)||(o.push(i),r.define(i,V(a,s,1)))}))})),p.innerHTML=o+"{visibility:hidden}.hydrated{visibility:inherit}",p.setAttribute("data-styles",""),s.insertBefore(p,i?i.nextSibling:s.firstChild),f=!1,h.length?h.map((e=>e.connectedCallback())):c.jmp((()=>g=setTimeout(U,30)))},G=new WeakMap,J=e=>G.get(e),Y=(e,t)=>G.set(t.$lazyInstance$=e,t),K=(e,t)=>{const o={$flags$:0,$hostElement$:e,$cmpMeta$:t,$instanceValues$:new Map};return o.$onInstancePromise$=new Promise((e=>o.$onInstanceResolve$=e)),o.$onReadyPromise$=new Promise((e=>o.$onReadyResolve$=e)),e["s-p"]=[],e["s-rc"]=[],u(e,o,t.$listeners$),G.set(e,o)},Q=(e,t)=>t in e,X=(e,t)=>(0,console.error)(e,t),Z=new Map,ee=(e,t,n)=>{const r=e.$tagName$.replace(/-/g,"_"),s=e.$lazyBundleId$,i=Z.get(s);return i?i[r]:o(23559)(`./${s}.entry.js`).then((e=>(Z.set(s,e),e[r])),X)},te=new Map,oe=[],ne=[],re=(e,t)=>o=>{e.push(o),i||(i=!0,t&&4&c.$flags$?ae(ie):c.raf(ie))},se=e=>{for(let t=0;t<e.length;t++)try{e[t](performance.now())}catch(e){X(e)}e.length=0},ie=()=>{se(oe),se(ne),(i=oe.length>0)&&c.raf(ie)},ae=e=>p().then(e),le=re(ne,!0)},23559:(e,t,o)=>{var n={"./arcgis-infographic.entry.js":[28079,5140,8079],"./arcgis-report-list.entry.js":[49976,5140,9976],"./report-list-accordion.entry.js":[15982,5140,5982]};function r(e){if(!o.o(n,e))return Promise.resolve().then((()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=n[e],r=t[0];return Promise.all(t.slice(1).map(o.e)).then((()=>o(r)))}r.keys=()=>Object.keys(n),r.id=23559,e.exports=r},94129:e=>{"use strict";e.exports=s},68384:e=>{"use strict";e.exports=l},8294:e=>{"use strict";e.exports=c},23852:e=>{"use strict";e.exports=i},43511:e=>{"use strict";e.exports=a},22366:e=>{"use strict";e.exports=d},40720:e=>{"use strict";e.exports=p},26826:e=>{"use strict";e.exports=u},48891:e=>{"use strict";e.exports=o},51315:e=>{"use strict";e.exports=n},20800:e=>{"use strict";e.exports=r}},m={};function $(e){var t=m[e];if(void 0!==t)return t.exports;var o=m[e]={exports:{}};return f[e](o,o.exports,$),o.exports}$.m=f,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,$.t=function(o,n){if(1&n&&(o=this(o)),8&n)return o;if("object"==typeof o&&o){if(4&n&&o.__esModule)return o;if(16&n&&"function"==typeof o.then)return o}var r=Object.create(null);$.r(r);var s={};e=e||[null,t({}),t([]),t(t)];for(var i=2&n&&o;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>s[e]=()=>o[e]));return s.default=()=>o,$.d(r,s),r},$.d=(e,t)=>{for(var o in t)$.o(t,o)&&!$.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},$.f={},$.e=e=>Promise.all(Object.keys($.f).reduce(((t,o)=>($.f[o](e,t),t)),[])),$.u=e=>6748===e?"widgets/chunks/772862a1f58afc465ab3524c40dc815e.js":2214===e?"widgets/chunks/0f7346708e8330aca791354cad35d8bd.js":5140===e?"widgets/chunks/8d28fbac3f5d8f3daf2976e16cf94395.js":8079===e?"widgets/chunks/dc3f6056aace13771af6684ee7230bba.js":9976===e?"widgets/chunks/e1e25a5ae2d95d4640b8ccfddcc41dda.js":5982===e?"widgets/chunks/100ea7781aa8501faeb904e4ebadb837.js":void 0,$.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),$.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),h={},g="exb-client:",$.l=(e,t,o,n)=>{if(h[e])h[e].push(t);else{var r,s;if(void 0!==o)for(var i=document.getElementsByTagName("script"),a=0;a<i.length;a++){var l=i[a];if(l.getAttribute("src")==e||l.getAttribute("data-webpack")==g+o){r=l;break}}r||(s=!0,(r=document.createElement("script")).charset="utf-8",r.timeout=120,$.nc&&r.setAttribute("nonce",$.nc),r.setAttribute("data-webpack",g+o),r.src=e),h[e]=[t];var c=(t,o)=>{r.onerror=r.onload=null,clearTimeout(p);var n=h[e];if(delete h[e],r.parentNode&&r.parentNode.removeChild(r),n&&n.forEach((e=>e(o))),t)return t(o)},p=setTimeout(c.bind(null,void 0,{type:"timeout",target:r}),12e4);r.onerror=c.bind(null,r.onerror),r.onload=c.bind(null,r.onload),s&&document.head.appendChild(r)}},$.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},$.p="",(()=>{var e={6687:0};$.f.j=(t,o)=>{var n=$.o(e,t)?e[t]:void 0;if(0!==n)if(n)o.push(n[2]);else{var r=new Promise(((o,r)=>n=e[t]=[o,r]));o.push(n[2]=r);var s=$.p+$.u(t),i=new Error;$.l(s,(o=>{if($.o(e,t)&&(0!==(n=e[t])&&(e[t]=void 0),n)){var r=o&&("load"===o.type?"missing":o.type),s=o&&o.target&&o.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+s+")",i.name="ChunkLoadError",i.type=r,i.request=s,n[1](i)}}),"chunk-"+t,t)}};var t=(t,o)=>{var n,r,[s,i,a]=o,l=0;if(s.some((t=>0!==e[t]))){for(n in i)$.o(i,n)&&($.m[n]=i[n]);a&&a($)}for(t&&t(o);l<s.length;l++)r=s[l],$.o(e,r)&&e[r]&&e[r][0](),e[r]=0},o=self.webpackChunkexb_client=self.webpackChunkexb_client||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var y={};return $.p=window.jimuConfig.baseUrl,(()=>{"use strict";$.r(y),$.d(y,{default:()=>S});var e=$(48891),t=$(51315),o=$(20800);function n(e,t=document){const o="on"+e;let n=o in t;if(!n){const e=t.createElement("div");e.setAttribute(o,"return;"),n="function"==typeof e[o]}return n}function r(e){const t=new Map;return e.forEach((e=>t.set(e,e))),t}const s=e=>{const s=e.toLowerCase().split("-").map((e=>e.charAt(0).toUpperCase()+e.slice(1))).join("");return((e,o)=>{const n=(o,n)=>t.default.createElement(e,Object.assign({},o,{forwardedRef:n}));return n.displayName=o,t.default.forwardRef(n)})(class extends t.default.Component{constructor(e){super(e)}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(e){!function(e,t,o={}){const s=function(e,t,o){const n=r(e),s=r(t.className?t.className.split(" "):[]),i=r(o.className?o.className.split(" "):[]),a=[];return n.forEach((e=>{s.has(e)?(a.push(e),s.delete(e)):i.has(e)||a.push(e)})),s.forEach((e=>a.push(e))),a.join(" ")}(e.classList,t,o);s&&(e.className=s),Object.keys(t).forEach((o=>{if("children"!==o&&"style"!==o&&"ref"!==o&&"className"!==o)if(0===o.indexOf("on")&&o[2]===o[2].toUpperCase()){const r=o.substring(2),s=r[0].toLowerCase()+r.substring(1);n(s)||function(e,t,o){const n=e.__events||(e.__events={}),r=n[t];r&&e.removeEventListener(t,r),null!=o&&e.addEventListener(t,n[t]=function(e){o.call(this,e)})}(e,s,t[o])}else e[o]=t[o]}))}(o.default.findDOMNode(this),this.props,e)}render(){const o=this.props,{children:r,forwardedRef:s,style:i,className:a,ref:l}=o,c=function(e,t){var o={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(o[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(o[n[r]]=e[n[r]])}return o}(o,["children","forwardedRef","style","className","ref"]),p=Object.keys(c).reduce(((e,t)=>{const o=0===t.indexOf("on")&&t[2]===t[2].toUpperCase(),r=0===t.indexOf("data-"),s=0===t.indexOf("aria-");return o?n(t.substring(2).toLowerCase())&&(e[t]=c[t]):(r||s)&&(e[t]=c[t]),e}),{}),d=Object.assign(Object.assign({},p),{ref:s,style:i,className:a});return t.default.createElement(e,d,r)}static get displayName(){return s}},s)};var i=$(71776);!function(){if("undefined"!=typeof window&&void 0!==window.Reflect&&void 0!==window.customElements){var e=HTMLElement;window.HTMLElement=function(){return Reflect.construct(e,[],this.constructor)},HTMLElement.prototype=e.prototype,HTMLElement.prototype.constructor=HTMLElement,Object.setPrototypeOf(HTMLElement,e)}}(),function(){var e=[];if("undefined"!=typeof window){var t=window;t.customElements&&(!t.Element||t.Element.prototype.closest&&t.Element.prototype.matches&&t.Element.prototype.remove&&t.Element.prototype.getRootNode)||e.push($.e(6748).then($.t.bind($,86462,23))),"function"==typeof Object.assign&&Object.entries&&Array.prototype.find&&Array.prototype.includes&&String.prototype.startsWith&&String.prototype.endsWith&&(!t.NodeList||t.NodeList.prototype.forEach)&&t.fetch&&function(){try{var e=new URL("b","http://a");return e.pathname="c%20d","http://a/c%20d"===e.href&&e.searchParams}catch(e){return!1}}()&&"undefined"!=typeof WeakMap||e.push($.e(2214).then($.t.bind($,70456,23)))}return Promise.all(e)}().then((()=>{return"undefined"==typeof window?Promise.resolve():(0,i.p)().then((()=>(0,i.b)([["arcgis-infographic",[[1,"arcgis-infographic",{env:[1],token:[1],username:[1],locationDisplayName:[1,"location-display-name"],langCode:[1,"lang-code"],reportId:[1,"report-id"],theme:[16],bufferType:[1,"buffer-type"],bufferUnits:[1,"buffer-units"],bufferSizes:[1,"buffer-sizes"],viewMode:[1,"view-mode"],reportShowHeader:[4,"report-show-header"],reportHeaderButtonPrint:[4,"report-header-button-print"],reportHeaderButtonImage:[4,"report-header-button-image"],reportHeaderButtonPdf:[4,"report-header-button-pdf"],reportHeaderButtonDynHtml:[4,"report-header-button-dyn-html"],reportColorBackground:[1,"report-color-background"],reportColorHeader:[1,"report-color-header"],reportColorHeaderText:[1,"report-color-header-text"],selectedFeatureId:[2,"selected-feature-id"],runReportOnClick:[4,"run-report-on-click"],showSearch:[4,"show-search"],reportLocation:[1,"report-location"],reportGeometry:[1,"report-geometry"],stEnv:[32],stToken:[32],stUsername:[32],stLocationDisplayName:[32],stLangCode:[32],stReportId:[32],stTheme:[32],stBufferType:[32],stBufferUnits:[32],stBufferSizes:[32],stViewMode:[32],stReportShowHeader:[32],stReportHeaderButtonPrint:[32],stReportHeaderButtonImage:[32],stReportHeaderButtonPdf:[32],stReportHeaderButtonDynHtml:[32],stReportColorBackground:[32],stReportColorHeader:[32],stReportColorHeaderText:[32],stSelectedFeatureId:[32],stRunReportOnClick:[32],stShowSearch:[32],stReportLocation:[32],stReportGeometry:[32],generateBuffers:[64],onPropChange:[64]},[[8,"reportSelected","reportSelectedEventHandler"]]]]],["arcgis-report-list",[[1,"arcgis-report-list",{selectedReportId:[1,"selected-report-id"],_counter:[2],_containerId:[1,"_container-id"],token:[1],username:[1],treeInstanceId:[1,"tree-instance-id"]}]]],["report-list-accordion",[[1,"report-list-accordion",{env:[1],token:[1],username:[1],listInstanceId:[1,"list-instance-id"],theme:[1],langCode:[1,"lang-code"],_counter:[2],_containerId:[1,"_container-id"],selectedReportId:[1,"selected-report-id"],stEnv:[32],stToken:[32],stUsername:[32],stListInstanceId:[32],stTheme:[32],stLangCode:[32],stSelectedReportId:[32]}]]]],e)));var e}));const a=s("arcgis-infographic");class l{constructor(){this.fixForLint=""}static log(e,...t){if(l.showDebugConsoleLogs&&(console.log("=======>"+e+": "),t&&t.length))for(let e=0;e<t.length;e++)console.log("...",t[e])}}l.showDebugConsoleLogs=!1;const c=l;var p=$(94129),d=$(23852),u=$(43511),h=$(68384),g=$(8294),f=$(40720),m=$(22366);class b{constructor(){c.showDebugConsoleLogs=!1}static hasText(e){return!(null==e)&&"string"==typeof e&&e.length>0&&e.trim().length>0}static registerCallbacks(e,t,o,n,r,s){let i;if(c.log("map-search","registerCallbacks()..."),!(this.hasText(e)&&this.hasText(t)&&o&&s))return void c.log("map-search","map search register callbacks failed - invalid args");const a={widgetId:e,searchResultCallback:n,cleared:r,mapActions:s},l=b.maps[t];if(l){let e;c.log("map-search","associate widget to existing map");for(let t=0;t<l.widgets.length;t++)if(e=l.widgets[t],e.widgetId===a.widgetId)return void(l.widgets[t]=a);l.widgets.push(a)}else{c.log("map-search","Register new widget");const e="baSearch"+Date.now();i={mapWidgetId:t,view:o,map:o.map,graphicsLayer:new d.default({id:e}),searchControl:null,widgets:[a]},i.map.add(i.graphicsLayer);const n=new u.default({color:[51,51,204,.15],outline:{color:"blue",width:1},size:"6px"});i.searchControl=new f.default({view:i.view,popupEnabled:!1,sources:[{locator:new m.default("//geocode.arcgis.com/arcgis/rest/services/World/GeocodeServer"),singleLineFieldName:"SingleLine",outFields:["Addr_type","Match_addr","StAddr","City"],name:"ArcGIS World Geocoding Service",placeholder:"Find address or place",resultSymbol:n}]}),i.searchControl.viewModel.includeDefaultSources=!1,i.view.ui.add(i.searchControl,{position:"top-right"}),i.searchControl.on("search-clear",(function(e){i.graphicsLayer.removeAll(),b.notifyClear(i)})),i.searchControl.on("select-result",(function(e){c.log("MapSearch","ON SEARCH RESULTS...");const t=e.result.extent.center;c.log("MapSearch","clearing GraphicsLayer"),i.graphicsLayer.removeAll(),c.log("MapSearch","SEARCH_RESULT= ",e),c.log("MapSearch","name=",e.result.name),c.log("MapSearch","Location=",t.latitude,t.longitude);const o=new p.default({symbol:{type:"simple-fill",color:[51,51,204,.15],style:"solid",outline:{color:"blue",width:1}}});c.log("MapSearch","adding search result graphic=",o),i.graphicsLayer.add(o);const n={type:"point",latitude:t.latitude,longitude:t.longitude,displayName:e.result.name};b.notifySearchResults(i,n)})),b.maps[t]=i}return i&&i.searchControl?i.searchControl:null}static notifyClear(e){c.log("MapSearch","notify Search Cleared for "+e.widgets.length+" widgets");for(let t=0;t<e.widgets.length;t++){const o=e.widgets[t];if(o.cleared)try{o.cleared(o.mapActions)}catch(e){throw new Error("Map Search clear notify failed")}}}static notifySearchResults(e,t){c.log("MapSearch","notify SR for "+e.widgets.length);for(let o=0;o<e.widgets.length;o++){const n=e.widgets[o];if(c.log("MapSearch","widget"+o+" =",n),n.searchResultCallback)try{n.searchResultCallback(t,n.mapActions)}catch(e){throw new Error("Map Search clear notify failed")}}}}b.maps={};class w{constructor(e,t,o,n,r){this.ignorePropChanges=!1,this._allowPropChanges=this._debounce((function(){this.ignorePropChanges=!1}),1e3,!1),c.showDebugConsoleLogs=!1,c.log("map-actions","constructor"),this.widgetId=e,this.mapWidgetId=t,this.showSearch=void 0===o||o,this.runReportOnClick=!1,this.bufferType="ring",this.bufferSizes=[1],this.bufferSizesString="1",this.units="miles",this.context=r,this.callback=n,this.colors=[{color:[245,172,70,.4],outline:{color:[204,50,2,.7],width:1}},{color:[70,178,121,.3],outline:{color:[70,178,121,.7],width:1}},{color:[120,144,173,.3],outline:{color:[17,59,143,.7],width:1}}]}setReportOnClick(e){this.runReportOnClick=e}updateMap(){this.ignorePropChanges?c.log("map-actions","updateMap ignored prop change"):(this.syncSettings(),this.render(this.context.infographicLatitude,this.context.infographicLongitude,!1))}_debounce(e,t,o){let n;return function(){const r=this,s=arguments,i=function(){n=null,o||e.apply(r,s)},a=o&&!n;clearTimeout(n),n=setTimeout(i,t),a&&e.apply(r,s)}}syncSettings(){this.context.getConfigVals();const e=[];this.context.bufferSizes.split(",").forEach((t=>{e.push(parseFloat(t))})),this.bufferSizes=e,this.bufferSizesString=this.context.bufferSizes,this.bufferType=this.context.bufferType,this.units=this.context.bufferUnits,this.settingsLatitude=this.context.infographicLatitude,this.settingsLongitude=this.context.infographicLongitude}initialize(e){if(c.log("map-actions","initialize()..."),!e)throw new Error("BA map actions initialize: invalid view");if(this.view)return;const t=this;t.map=e.map,t.view=e;const o="baGraphics"+Date.now();t.graphicsLayer=new d.default({id:o}),t.map.add(t.graphicsLayer),new u.default({color:[51,51,204,.15],outline:{color:"blue",width:1},size:"6px"}),t.showSearch&&(t.searchControl=b.registerCallbacks(t.widgetId,t.mapWidgetId,t.view,(function(e,o){return n=this,r=void 0,i=function*(){t.ignorePropChanges=!0,t.settingsLatitude=t.context.infographicLatitude=e.latitude,t.settingsLongitude=t.context.infographicLongitude=e.longitude,c.log("map-actions","onReceivedSearchResults =",e,o),t.render(e.latitude,e.longitude,!0)},new((s=void 0)||(s=Promise))((function(e,t){function o(e){try{l(i.next(e))}catch(e){t(e)}}function a(e){try{l(i.throw(e))}catch(e){t(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof s?n:new s((function(e){e(n)}))).then(o,a)}l((i=i.apply(n,r||[])).next())}));var n,r,s,i}),(function(e){t.ignorePropChanges=!0,t.settingsLatitude=t.context.infographicLatitude=void 0,t.settingsLongitude=t.context.infographicLongitude=void 0;const o="#"+e.context.props.id;t.graphicsLayer.removeAll();const n=document.querySelector(o);n&&(n.setAttribute("report-geometry",""),n.setAttribute("report-location",""))}),t)),t.view.on("click",(e=>{c.log("map-actions","onMapClick()..."),t.graphicsLayer.removeAll(),t.searchControl&&(t.searchControl.searchTerm=""),t.view.hitTest(e,{}).then((function(o){const n=t.view.toMap({x:e.x,y:e.y});t.ignorePropChanges=!0,t.settingsLatitude=t.context.infographicLatitude=n.latitude,t.settingsLongitude=t.context.infographicLongitude=n.longitude,(o.results.length<=0||!function(o){let n,r;if(o.results.length>0){for(let e=0;e<o.results.length;e++){const t=o.results[e].graphic;if(t.geometry)switch(t.geometry.type){case"polygon":r||(r=[e,t]);break;case"point":n||(n=[e,t])}}if(n)try{!function(e,o){const n=o[1],r=n.attributes,s=n.geometry.latitude,i=n.geometry.longitude;t.ignorePropChanges=!0,t.settingsLatitude=t.context.infographicLatitude=s,t.settingsLongitude=t.context.infographicLongitude=i,t.callback&&t.callback({type:"point",latitude:s,longitude:i,displayName:r.name||""},t.context)}(0,n)}catch(e){console.log(e)}else{if(!r)return!1;try{!function(o,n){const r=e.mapPoint.latitude,s=e.mapPoint.longitude;t.ignorePropChanges=!0,t.settingsLatitude=t.context.infographicLatitude=r,t.settingsLongitude=t.context.infographicLongitude=s,t.callback&&t.callback({latitude:r,longitude:s,type:"polygon",rings:n[1].geometry.rings,spatial:n[1].geometry.spatialReference,displayName:""},t.context)}(0,r)}catch(e){console.log(e)}}return!0}return!1}(o)&&t.runReportOnClick)&&t.render.call(t,n.latitude,n.longitude,!0)}))})),t.context.infographicLatitude&&t.context.infographicLongitude&&t.render(t.context.infographicLatitude,t.context.infographicLongitude,!1)}drawRings(e,t){let o;c.log("drawRings","Rendering map graphics, rings= "+this.bufferSizes.length);for(let n=this.bufferSizes.length-1;n>=0;n--){const r=new h.default({center:[t,e],geodesic:!0,numberOfPoints:64,radiusUnit:this.units,radius:this.bufferSizes[n]}),s={type:"simple-fill",color:this.colors[n].color,style:"solid",outline:this.colors[n].outline},i=new p.default({geometry:r,symbol:s});o||(o=i),this.graphicsLayer.add(i)}this.view.goTo(o.geometry)}render(e,t,o){const n=this;this.syncSettings(),o||this.graphicsLayer.removeAll();const r="#"+this.context.props.id,s=document.querySelector(r);if(s)if("ring"===this.bufferType){"minutes"===this.context.bufferUnits&&(this.units=this.context.bufferUnits="miles"),this.drawRings(e,t);const o=new u.default({color:[51,51,204,.15],outline:{color:"blue",width:1},size:"6px"}),r=new g.default({longitude:t,latitude:e,spatialReference:n.map.spatialReference}),i=new p.default({geometry:r,symbol:o});this.graphicsLayer.add(i),s.setAttribute("report-geometry","");const a=t+", "+e;s.setAttribute("report-location",a),n._allowPropChanges()}else s.generateBuffers(this.bufferType,this.bufferSizesString,this.units,e.toString(),t.toString()).then((function(o){if(!o||o.error)console.log("map actions generateBuffers: ",o.error);else if(o.length>0){let e;for(let t=o.length-1;t>=0;t--){const r={type:"polygon",rings:o[t].rings[0]},s={type:"simple-fill",color:n.colors[t].color,outline:n.colors[t].outline},i=new p.default({geometry:r,symbol:s});n.graphicsLayer.add(i),e||(e=i)}n.view.goTo(e.geometry)}const r=new u.default({color:[51,51,204,.15],outline:{color:"blue",width:1},size:"6px"}),s=new g.default({longitude:t,latitude:e,spatialReference:n.map.spatialReference}),i=new p.default({geometry:s,symbol:r});n.graphicsLayer.add(i),n._allowPropChanges()}),(function(e){console.log(e)}))}}var v=$(26826);class S extends e.React.PureComponent{constructor(e){super(e),this.getConfigVals(),this.syncId="baSync"+Date.now(),this.stencilPropChangeConnected=!1,c.showDebugConsoleLogs=!0}componentWillMount(){e.SessionManager.getInstance().getMainSession()||this.promptSignIn()}componentDidMount(){if(c.log("componentDidMount()..."),!this.stencilPropChangeConnected){const e="#"+this.props.id,t=document.querySelector(e);c.log("componentDidMount","assigning onPropChange to element",e),t&&(t.onPropChange(this.onSettingChanged,this),this.stencilPropChangeConnected=!0)}}promptSignIn(){e.SessionManager.getInstance().signIn()}onSettingChanged(e,t){if(c.log("ba-infographic","onSettingChanged"),!e.mapActions||!e.mapActions.ignorePropChanges){const o=t.split(",");e.infographicLatitude=parseFloat(o[1]),e.infographicLongitude=parseFloat(o[0]),e.mapActions&&e.mapActions.updateMap()}}onMapChanges(e,t){const o="#"+t.props.id,n=document.querySelector(o);switch(e.type){case"point":{const o=e.latitude,r=e.longitude;t.mapActions.render(o,r,!1);const s=r+", "+o;t.infographicLatitude=t.settingsLatitude=o,t.infographicLongitude=t.settingsLongitude=r,n&&(n.setAttribute("report-geometry",""),n.setAttribute("report-location",s));break}case"polygon":{const o=e.latitude,r=e.longitude;if(t.infographicLatitude=t.settingsLatitude=o,t.infographicLongitude=t.settingsLongitude=r,n){const t=JSON.stringify(e);n.setAttribute("report-location",e.longitude.toString()+", "+e.latitude.toString()),n.setAttribute("report-geometry",t)}break}}}activeViewChangeHandler(e,t){c.log("widget","activeViewChangeHandler()...");const o=t;this.jimuMapView=e,e&&e.view&&e.view.when((function(n){o.getConfigVals(),o.mapActions=new w(t.props.id,e.mapWidgetId,o.showSearch,o.onMapChanges,t);const r=o.bufferSizes.split(","),s=[];for(let e=0;e<r.length;e++)s[e]=parseFloat(r[e]);if(o.mapActions.setReportOnClick(o.runReportOnClick),o.mapActions.initialize(e.view),!o.stencilPropChangeConnected){const e="#"+o.props.id,t=document.querySelector(e);c.log("componentWillMount","assigning onPropChange to element",e),t&&(t.onPropChange(o.onSettingChanged,o),o.stencilPropChangeConnected=!0)}}))}buildBufferSizes(){let e=[];return this.isEmpty(this.props.config.bufferSize1)||e.push(this.props.config.bufferSize1),this.isEmpty(this.props.config.bufferSize2)||e.push(this.props.config.bufferSize2),this.isEmpty(this.props.config.bufferSize3)||e.push(this.props.config.bufferSize3),(0===e.length||this.isEmpty(this.props.config.bufferSize1)&&this.isEmpty(this.props.config.bufferSize2)&&this.isEmpty(this.props.config.bufferSize3))&&(e=[1,3,5]),e.toString()}isEmpty(e){if(null==e)return!0;if(e.length>0)return!1;if(0===e.length)return!0;if("object"!=typeof e)return!0;for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}getConfigVals(){this.selectedReport=this.isEmpty(this.props.config.selectedReport)?"b737042ee11d4d19ba938a3ca333e673":this.props.config.selectedReport,this.infographicLatitude=this.isEmpty(this.props.config.infographicLatitude)?"34.057170":this.props.config.infographicLatitude,this.infographicLongitude=this.isEmpty(this.props.config.infographicLongitude)?"-117.194150":this.props.config.infographicLongitude,this.langCode=this.isEmpty(this.props.config.langCode)?"US":this.props.config.langCode,this.viewMode="SMALL"===this.props.browserSizeMode?"stack":this.isEmpty(this.props.config.viewMode)?"full":this.props.config.viewMode,this.bufferType=this.isEmpty(this.props.config.bufferType)?"ring":this.props.config.bufferType,this.bufferSizes=this.buildBufferSizes(),this.bufferUnits=this.isEmpty(this.props.config.bufferUnits)?"miles":this.props.config.bufferUnits,this.displayHeader=!Object.prototype.hasOwnProperty.call(this.props.config,"displayHeader")||this.props.config.displayHeader,this.imageExport=!Object.prototype.hasOwnProperty.call(this.props.config,"imageExport")||this.props.config.imageExport,this.print=!1,this.dynamicHtml=!1,this.pdf=!1,this.backgroundColor=this.isEmpty(this.props.config.backgroundColor)?"#525659":this.props.config.backgroundColor,this.headerColor=this.isEmpty(this.props.config.headerColor)?"#0079C1":this.props.config.headerColor,this.headerTextColor=this.isEmpty(this.props.config.headerTextColor)?"#FFFFFF":this.props.config.headerTextColor,this.showSearch=!0,this.runReportOnClick=!0}render(){var t,o;return this.getConfigVals(),(0,e.jsx)("div",{css:(this.props.theme,e.css`
  .overflow-hidden {
      overflow: hidden
  }

  [calcite-hydrated-hidden] {
      visibility: hidden;
      pointer-events: none
  }

  arcgis-infographic{
      width: 100% !important;
      height: 100% !important;
      overflow: hidden !important;
      /* 16:9 aspect ratio */
      padding-top: 56.25% !important;
      position: relative !important;
  }

  arcgis-infographic iframe {
    border: 0 !important;
    height: 100% !important;
    left: 0 !important;
    position: absolute !important;
    top: 0 !important;
    width: 100% !important;
  }`),className:"widget-infographic-player jimu-widget App"},(null===(t=this.props.user)||void 0===t?void 0:t.username)?(0,e.jsx)(e.React.Fragment,null,(0,e.jsx)(a,{id:this.props.id,env:window.jimuConfig.hostEnv,reportId:this.selectedReport,reportLocation:this.infographicLongitude+", "+this.infographicLatitude,username:this.props.user.username,token:this.props.token,langCode:this.langCode,reportShowHeader:this.displayHeader,reportHeaderButtonPrint:this.print,reportHeaderButtonImage:this.imageExport,reportHeaderButtonDynHtml:this.dynamicHtml,reportHeaderButtonPdf:this.pdf,bufferType:this.bufferType,bufferUnits:this.bufferUnits,bufferSizes:this.bufferSizes,reportColorBackground:this.backgroundColor,reportColorHeader:this.headerColor,reportColorHeaderText:this.headerTextColor,viewMode:this.viewMode}),Object.prototype.hasOwnProperty.call(this.props,"useMapWidgetIds")&&this.props.useMapWidgetIds&&1===this.props.useMapWidgetIds.length&&(0,e.jsx)(v.JimuMapViewComponent,{useMapWidgetId:null===(o=this.props.useMapWidgetIds)||void 0===o?void 0:o[0],onActiveViewChange:e=>{this.activeViewChangeHandler(e,this)}})):(0,e.jsx)("div",{className:"esri-directions__sign-in-content"},(0,e.jsx)("div",{className:"esri-widget__heading",role:"heading",style:{marginTop:"0",padding:"0",alignSelf:"flex-start"}},"Business Analyst Infographic (beta)"),(0,e.jsx)("div",{className:"esri-widget__body"},"Your account cannot run the Business Analyst infographic widget.  In order to run the Business Analyst infographic widget, the administrator of your organization needs to grant you GeoEnrichment and Network Analysis ",(0,e.jsx)("a",{href:"http://doc.arcgis.com/en/arcgis-online/reference/roles.htm",target:"_blank"},"privileges"),", and also allocate ",(0,e.jsx)("a",{href:"https://doc.arcgis.com/en/arcgis-online/administer/configure-credits.htm?",target:"_blank"},"credits"),"."),(0,e.jsx)("div",{className:"esri-widget__heading",role:"heading"},"Sign-in required"),(0,e.jsx)("button",{className:"esri-button esri-button--secondary",type:"button",style:{width:"auto"},onClick:()=>this.promptSignIn()},"Sign in")))}}S.mapExtraStateProps=e=>({browserSizeMode:e.browserSizeMode})})(),y})())}}}));